/* Dashboard Theme Styles - Supporto per modalità light/dark */

/* Variabili Light Theme */
:root {
  --dashboard-bg-light: #f8f9fa;
  --card-bg-light: #ffffff;
  --text-color-light: #333333;
  --border-color-light: #e0e0e0;
  --header-bg-light: #f0f0f0;
  --chart-grid-light: #eeeeee;
  --success-color-light: #28a745;
  --error-color-light: #dc3545;
  --warning-color-light: #ffc107;
  --info-bg-light: #f0f0f0;
  --filter-bg-light: #ffffff;
  --icon-color-light: #333333;
}

/* Variabili Dark Theme */
:root {
  --dashboard-bg-dark: #121212;
  --card-bg-dark: #1e1e1e;
  --text-color-dark: #e0e0e0;
  --border-color-dark: #444444;
  --header-bg-dark: #2a2a2a;
  --chart-grid-dark: #333333;
  --success-color-dark: #48c774;
  --error-color-dark: #f14668;
  --warning-color-dark: #ffdd57;
  --info-bg-dark: #2a2a2a;
  --filter-bg-dark: #2a2a2a;
  --icon-color-dark: #e0e0e0;
}

/* Stili comuni che cambiano in base al tema */
body[data-theme="light"] .sap-dashboard {
  background-color: var(--dashboard-bg-light);
  color: var(--text-color-light);
}

body[data-theme="dark"] .sap-dashboard {
  background-color: var(--dashboard-bg-dark);
  color: var(--text-color-dark);
  /* Aggiungiamo una proprietà importante per prevenire la trasparenza */
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

/* Header della dashboard */
body[data-theme="light"] .dashboard-header {
  background-color: var(--header-bg-light);
  color: var(--text-color-light);
}

body[data-theme="dark"] .dashboard-header {
  background-color: var(--header-bg-dark);
  color: var(--text-color-dark);
}

/* Schede KPI e grafici */
body[data-theme="light"] .kpi-card,
body[data-theme="light"] .chart-card {
  background-color: var(--card-bg-light);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
  border: 1px solid var(--border-color-light);
}

body[data-theme="dark"] .kpi-card,
body[data-theme="dark"] .chart-card {
  background-color: var(--card-bg-dark);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
  border: 1px solid var(--border-color-dark);
}

/* Filtri container */
body[data-theme="light"] .filters-container {
  background-color: var(--filter-bg-light);
  border: 1px solid var(--border-color-light);
}

body[data-theme="dark"] .filters-container {
  background-color: var(--filter-bg-dark);
  border: 1px solid var(--border-color-dark);
}

/* Opzioni di filtro */
body[data-theme="light"] .filter-options {
  background-color: #fafafa;
  border: 1px solid var(--border-color-light);
}

body[data-theme="dark"] .filter-options {
  background-color: #333333;
  border: 1px solid var(--border-color-dark);
}

/* Checkbox e label */
body[data-theme="light"] .checkbox-label {
  color: var(--text-color-light);
}

body[data-theme="dark"] .checkbox-label {
  color: var(--text-color-dark);
}

body[data-theme="light"] .checkbox-label:hover {
  background-color: #f0f0f0;
}

body[data-theme="dark"] .checkbox-label:hover {
  background-color: #444444;
}

/* Debug info box */
body[data-theme="light"] .sap-dashboard div[style*="background: #f0f0f0"] {
  background-color: var(--info-bg-light) !important;
  color: var(--text-color-light) !important;
  border: 1px solid var(--border-color-light);
}

body[data-theme="dark"] .sap-dashboard div[style*="background: #f0f0f0"] {
  background-color: var(--info-bg-dark) !important;
  color: var(--text-color-dark) !important;
  border: 1px solid var(--border-color-dark);
}

/* Input e select */
body[data-theme="light"] .sap-dashboard input,
body[data-theme="light"] .sap-dashboard select {
  background-color: white;
  border: 1px solid var(--border-color-light);
  color: var(--text-color-light);
}

body[data-theme="dark"] .sap-dashboard input,
body[data-theme="dark"] .sap-dashboard select {
  background-color: #333333;
  border: 1px solid var(--border-color-dark);
  color: var(--text-color-dark);
}

/* Icone e pulsanti */
body[data-theme="light"] .icon-btn {
  background-color: white;
  color: var(--icon-color-light);
  border: 1px solid var(--border-color-light);
}

body[data-theme="dark"] .icon-btn {
  background-color: #333333;
  color: var(--icon-color-dark);
  border: 1px solid var(--border-color-dark);
}

/* Tabella dei dettagli */
body[data-theme="light"] .details-table {
  background-color: var(--card-bg-light);
}

body[data-theme="dark"] .details-table {
  background-color: var(--card-bg-dark);
}

body[data-theme="light"] .details-table th {
  background-color: #f8f9fa;
  color: #555;
}

body[data-theme="dark"] .details-table th {
  background-color: #333333;
  color: #e0e0e0;
}

body[data-theme="light"] .details-table td {
  color: #333333;
}

body[data-theme="dark"] .details-table td {
  color: #e0e0e0;
}

/* Righe zebrate nella tabella */
body[data-theme="light"] .details-table tbody tr:nth-child(4n+1),
body[data-theme="light"] .details-table tbody tr:nth-child(4n+2) {
  background-color: #fafafa;
}

body[data-theme="dark"] .details-table tbody tr:nth-child(4n+1),
body[data-theme="dark"] .details-table tbody tr:nth-child(4n+2) {
  background-color: #2a2a2a;
}

/* Hover sulle righe della tabella */
body[data-theme="light"] .details-table tbody tr:hover {
  background-color: #e3f2fd !important;
  box-shadow: inset 0 0 0 1px #2196f3;
}

body[data-theme="dark"] .details-table tbody tr:hover {
  background-color: #1a237e !important;
  box-shadow: inset 0 0 0 1px #3f51b5;
}

/* Modal di selezione sfondo */
body[data-theme="light"] .modal-content {
  background-color: white;
  color: var(--text-color-light);
}

body[data-theme="dark"] .modal-content {
  background-color: var(--card-bg-dark);
  color: var(--text-color-dark);
}

body[data-theme="dark"] .modal-content input {
  background-color: #333333;
  color: var(--text-color-dark);
  border-color: var(--border-color-dark);
}

/* Pulsanti export */
body[data-theme="light"] .export-btn {
  background-color: #007bff;
  color: white;
}

body[data-theme="dark"] .export-btn {
  background-color: #0056b3;
  color: white;
}

body[data-theme="light"] .export-btn:hover {
  background-color: #0056b3;
}

body[data-theme="dark"] .export-btn:hover {
  background-color: #003d82;
}

/* Stili per i grafici in modalità dark */
body[data-theme="dark"] .chart-container canvas,
body[data-theme="dark"] .chart-container-timeline canvas {
  filter: brightness(0.85) saturate(1.2);
}

/* Fix per la trasparenza in dark mode */
body[data-theme="dark"] .sap-dashboard {
  position: relative;
}

/* RIMUOVI O COMMENTA QUESTE SEZIONI (cerca e cancella/commenta) */
/* 
body[data-theme="dark"] .sap-dashboard::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: var(--dashboard-bg-dark);
  z-index: -1;
  opacity: 0.95;
}
*/

/* Assicuriamoci che tutti i componenti della dashboard abbiano un background solido in dark mode */
body[data-theme="dark"] .kpi-card,
body[data-theme="dark"] .chart-card,
body[data-theme="dark"] .filters-container,
body[data-theme="dark"] .filter-options,
body[data-theme="dark"] .dashboard-header,
body[data-theme="dark"] .details-table,
body[data-theme="dark"] .modal-content {
  background-color: var(--card-bg-dark) !important;
}

/* I bottoni nella header della dashboard in dark mode */
body[data-theme="dark"] .header-actions .icon-btn {
  background-color: #333333 !important;
  color: var(--icon-color-dark) !important;
  border: 1px solid var(--border-color-dark) !important;
}

/* Bottoni di esportazione in dark mode */
body[data-theme="dark"] .export-buttons .export-btn {
  background-color: #0056b3 !important;
  color: white !important;
}

/* Cards dei KPI in dark mode */
body[data-theme="dark"] .kpi-grid .kpi-card {
  background-color: #1e1e1e !important;
  color: var(--text-color-dark) !important;
}

/* Valori dei KPI in dark mode */
body[data-theme="dark"] .kpi-value {
  color: #e0e0e0 !important;
}

/* Modifica dei colori dei trend nei KPI in dark mode */
body[data-theme="dark"] .kpi-trend {
  color: var(--text-color-dark) !important;
}

body[data-theme="dark"] .kpi-trend[style*="color: #dc3545"] {
  color: #f14668 !important;
}

body[data-theme="dark"] .kpi-trend[style*="color: #28a745"] {
  color: #48c774 !important;
}

/* Fix specifico per i filtri in dark mode */
body[data-theme="dark"] .filter-section label {
  color: var(--text-color-dark) !important;
}

/* Fix per select e input in dark mode */
body[data-theme="dark"] .time-range-select,
body[data-theme="dark"] .date-inputs input {
  background-color: #333333 !important;
  color: var(--text-color-dark) !important;
  border-color: var(--border-color-dark) !important;
}

/* Fix per la trasparenza in dark mode */
/* RIMUOVI ANCHE QUESTO SE PRESENTE
body[data-theme="dark"] .sap-dashboard {
  position: relative;
}

/* ========================================
   WALLPAPER VISIBILITY - Box solidi con sfondo trasparente
   ======================================== */

/* Dashboard container trasparente per vedere il wallpaper */
body[data-theme="light"] .sap-dashboard,
body[data-theme="dark"] .sap-dashboard {
  background-color: transparent !important;
}

/* IMPORTANTE: Tutti i componenti interni DEVONO rimanere solidi */
body[data-theme="light"] .kpi-card,
body[data-theme="light"] .chart-card,
body[data-theme="light"] .filters-container,
body[data-theme="light"] .dashboard-header,
body[data-theme="light"] .details-table {
  background-color: rgba(255, 255, 255, 0.95) !important; /* Quasi opaco per light mode */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

body[data-theme="dark"] .kpi-card,
body[data-theme="dark"] .chart-card,
body[data-theme="dark"] .filters-container,
body[data-theme="dark"] .dashboard-header,
body[data-theme="dark"] .details-table {
  background-color: rgba(30, 30, 30, 0.95) !important; /* Quasi opaco per dark mode */
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

/* Opzioni di filtro anche solide */
body[data-theme="light"] .filter-options {
  background-color: rgba(250, 250, 250, 0.95) !important;
}

body[data-theme="dark"] .filter-options {
  background-color: rgba(51, 51, 51, 0.95) !important;
}

/* Header actions buttons */
body[data-theme="light"] .icon-btn {
  background-color: rgba(255, 255, 255, 0.9) !important;
}

body[data-theme="dark"] .icon-btn {
  background-color: rgba(51, 51, 51, 0.9) !important;
}




